<!doctype html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
	<meta charset="utf-8">
	<title>Building a roadways graph from OpenStreetMap data (day 14) - Culture of Development</title>
	<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/img/favicon-16x16.png">
	<link rel="manifest" href="/img/site.webmanifest">
	<link rel="mask-icon" href="/img/safari-pinned-tab.svg" color="#5bbad5">
	<link rel="shortcut icon" href="/img/favicon.ico">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="msapplication-config" content="/img/browserconfig.xml">
	<meta name="theme-color" content="#ffffff">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/site.css">
</head>
<body>
	<header class="page-header">
		<div class="container">
			<a href="/" id="header-logo-link"></a>
			<div class="h3 title">
				Culture of Development
				<small>The Pit of Success</small>
			</div>
			<nav class="site-nav">
	<a href="/">about</a>
	
	<a href="/streams/">streams</a>
	
	<a href="/blog/">blog</a>
	
</nav>
		</div>
	</header>
	<section class="page-content">
		<div class="container">
			<h1>Building a roadways graph from OpenStreetMap data (day 14)</h1>
<p class="text-muted">
    2019-02-14 
	Nick Larsen
</p>
<section class="article">
	
		<iframe class="stream-embed" width="720" height="405" src="https://www.youtube.com/embed/arbcioDjbQs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
	
	<p>Today we extracted a graph of roadways from the <a href="https://wiki.openstreetmap.org/wiki/Planet.osm#Country_and_area_extracts" target="_blank" rel="noopener">OpenStreetMap data dump</a> for the city of <a href="https://www.google.com/maps/place/Lima,+Peru/@-12.0262676,-77.1278649,11z/data=!3m1!4b1!4m5!3m4!1s0x9105c5f619ee3ec7:0x14206cb9cc452e4a!8m2!3d-12.0463731!4d-77.042754" target="_blank" rel="noopener">Lima, Peru</a>.  Why Lima?  It's fairly large but not whole world so we can ramp up the problem size.  This process turned out to be pretty straightforward and after cleaning up a few minor mistakes we got the problem running.</p>
<p>First we tried IDA* and that turned out to be really slow to make progress because there are a lot of very minor improvements in the distance with this larger dataset.  We'll have to consider some alternatives to that in the future but in order to keep making progress today we just switched over to vanilla A*.  There are roughly 800,000 edges in this final graph so A* shouldn't take very long even if it has to explore a large number of them.  For the heuristic we used <a href="https://www.movable-type.co.uk/scripts/latlong.html" target="_blank" rel="noopener">Haversine formula</a> to calculate straight line distance on the surface of a sphere.</p>
<p>Guess what? IT WORKED!  And we plotted the route on Google Maps!  This felt like such an accomplishment and it was really incredible, so thanks to everyone who joined me on this journey so far.  &lt;3</p>

	
		<ul class="watch-my-stream">
			<li>Please share <a href="https://www.youtube.com/watch?v=arbcioDjbQs">this content</a> with everyone!</li>
			<li><a href="https://www.twitch.tv/nick_larsen">Watch the stream live</a> Wed, Thur, Fri from 12 to 2PM EST.</li>
		</ul>
	
	<div id="disqus_thread"></div>
	<script type="text/javascript">
	    var disqus_config = function () {
	        this.page.url = 'http://culture-of-development.com/streams/building-a-roadways-graph-from-openstreetmap-data-day-14/';
	        this.page.identifier = 'http://culture-of-development.com/streams/building-a-roadways-graph-from-openstreetmap-data-day-14/';
	    };
	    (function() {
	        var d = document, s = d.createElement('script');
	        s.src = '//cultureofdevelopment.disqus.com/embed.js';
	        s.setAttribute('data-timestamp', +new Date());
	        (d.head || d.body).appendChild(s);
	    })();
	</script>
	<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>
		</div>
	</section>
	<footer class="page-footer">
		<div class="container">
			<nav class="site-nav">
	<a href="/">about</a>
	
	<a href="/streams/">streams</a>
	
	<a href="/blog/">blog</a>
	
</nav>
			<p>
				&copy; 2019 Nick Larsen, cultureofdevelopment.com
			</p>
		</div>
	</footer>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	  ga('create', 'UA-38493266-1', 'auto');
	  ga('send', 'pageview');
	</script>
</body>
</html>